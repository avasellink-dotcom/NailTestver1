export interface ThemePattern {
  theme: string;
  keywords: string[];
  hint: string;
}

export const THEME_PATTERNS: ThemePattern[] = [
  {
    theme: "Ð“Ð¸Ð³Ð¸ÐµÐ½Ð° Ð¸ ÐžÐ±Ñ‰ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ðµ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ",
    keywords: ["ìœˆìŠ¬ë¡œìš°", "Winslow", "ê³µì¤‘ë³´ê±´", "WHO", "ê±´ê°•", "ì§ˆë³‘", "ì¹˜ë£Œ", "ì˜ˆë°©"],
    hint: "ðŸŽ¯ Ð¢Ð•ÐœÐ: Ð“Ð¸Ð³Ð¸ÐµÐ½Ð° Ð¸ Winslow\nÐ—Ð°Ð¿Ð¾Ð¼Ð½Ð¸: Ð¦ÐµÐ»Ð¸ Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð·Ð´Ñ€Ð°Ð²Ð¾Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð¿Ð¾ Ð£Ð¸Ð½ÑÐ»Ð¾Ñƒ â€” ÑÑ‚Ð¾ ÐŸÐ ÐžÐ¤Ð˜Ð›ÐÐšÐ¢Ð˜ÐšÐ (ì˜ˆë°©), Ð¿Ñ€Ð¾Ð´Ð»ÐµÐ½Ð¸Ðµ Ð¶Ð¸Ð·Ð½Ð¸ Ð¸ ÑƒÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð¸Ðµ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ. Ð›Ð•Ð§Ð•ÐÐ˜Ð• (ì¹˜ë£Œ) â€” ÑÑ‚Ð¾ ÐÐ• Ñ†ÐµÐ»ÑŒ!"
  },
  {
    theme: "Ð¡Ñ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð³Ñ‚Ñ (ÐÐ½Ð°Ñ‚Ð¾Ð¼Ð¸Ñ)",
    keywords: ["ì†í†±", "êµ¬ì¡°", "ì¡°íŒ", "ì¡°ê·¼", "ì¡°ìƒ", "ì¡°ëª¨", "íí‹°í´", "cuticle", "nail"],
    hint: "ðŸ”‘ Ð¢Ð•ÐœÐ: ÐÐ½Ð°Ñ‚Ð¾Ð¼Ð¸Ñ Ð½Ð¾Ð³Ñ‚Ñ\nÐžÐ±Ñ€Ð°Ñ‰Ð°Ð¹ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ Ð½Ð° Ñ‡Ð°ÑÑ‚Ð¸ Ð½Ð¾Ð³Ñ‚Ñ: ì¡°íŒ (Ð¿Ð»Ð°ÑÑ‚Ð¸Ð½Ð°), ì¡°ëª¨ (Ð¼Ð°Ñ‚Ñ€Ð¸ÐºÑ - ÐºÐ¾Ñ€ÐµÐ½ÑŒ, Ð³Ð´Ðµ Ñ€Ð°ÑÑ‚ÐµÑ‚ Ð½Ð¾Ð³Ð¾Ñ‚ÑŒ), ì¡°ìƒ (Ð»Ð¾Ð¶Ðµ). ÐšÐ¾Ñ€ÐµÐ½ÑŒ Ð¸Ð»Ð¸ Ð¼ÐµÑÑ‚Ð¾ Ñ€Ð¾ÑÑ‚Ð° â€” ÑÑ‚Ð¾ Ð²ÑÐµÐ³Ð´Ð° ì¡°ëª¨!"
  },
  {
    theme: "Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¸ Ð´ÐµÐ·Ð¸Ð½Ñ„ÐµÐºÑ†Ð¸Ñ",
    keywords: ["ì†Œë…", "ë©¸ê· ", "ë‹ˆí¼", "í‘¸ì…”", "íŒŒì¼", "sterilization", "disinfection", "tool"],
    hint: "ðŸ›  Ð¢Ð•ÐœÐ: Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¸ Ð¡Ñ‚ÐµÑ€Ð¸Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ\nÐ Ð°Ð·Ð»Ð¸Ñ‡Ð°Ð¹ ì†Œë… (Ð´ÐµÐ·Ð¸Ð½Ñ„ÐµÐºÑ†Ð¸Ñ) Ð¸ ë©¸ê·  (ÑÑ‚ÐµÑ€Ð¸Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ - Ð¿Ð¾Ð»Ð½Ð¾Ðµ ÑƒÐ½Ð¸Ñ‡Ñ‚Ð¾Ð¶ÐµÐ½Ð¸Ðµ). ÐœÐµÑ‚Ð°Ð»Ð»Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ (Ð½Ð¸Ð¿Ð¿ÐµÑ€Ñ‹, Ð¿ÑƒÑˆÐµÑ€Ñ‹) Ñ‚Ñ€ÐµÐ±ÑƒÑŽÑ‚ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸."
  },
  {
    theme: "CBT Ð¢ÐµÑÑ‚Ñ‹ Ð¸ ÐžÐ±Ñ‰Ð¸Ðµ ÑÐ¾Ð²ÐµÑ‚Ñ‹",
    keywords: ["ì‹œí—˜", "CBT", "ë¬¸ì œ", "ê¸°ì¤€", "í•©ê²©"],
    hint: "ðŸ“š Ð¢Ð•ÐœÐ: Ð¡ÐµÐºÑ€ÐµÑ‚Ñ‹ CBT\nÐ’ CBT-Ñ‚ÐµÑÑ‚Ð°Ñ… Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ñ‰ÑƒÑ‚ 'Ð½Ð°Ð¸Ð±Ð¾Ð»ÐµÐµ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ÑÑ‰Ð¸Ð¹' (ê°€ìž¥ ì ì ˆí•œ) Ð¸Ð»Ð¸ 'Ð½ÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹' (ì•„ë‹Œ ê²ƒ) Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚. Ð’ÑÐµÐ³Ð´Ð° Ð´Ð¾Ñ‡Ð¸Ñ‚Ñ‹Ð²Ð°Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ð´Ð¾ ÐºÐ¾Ð½Ñ†Ð°, ÐºÐ¾Ñ€ÐµÐ¹ÑÐºÐ¸Ðµ Ð¾Ñ‚Ñ€Ð¸Ñ†Ð°Ð½Ð¸Ñ ÑÑ‚Ð¾ÑÑ‚ Ð² ÑÐ°Ð¼Ð¾Ð¼ ÐºÐ¾Ð½Ñ†Ðµ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ!"
  }
];

/**
 * Finds a matching hint based on keywords in the question text.
 * @param questionKo Korean text of the question
 * @returns Found hint string or null if no match found
 */
export const findThemeHint = (questionKo: string): string | null => {
  if (!questionKo) return null;
  
  const text = questionKo.toLowerCase();
  
  for (const pattern of THEME_PATTERNS) {
    const hasMatch = pattern.keywords.some(keyword => text.includes(keyword.toLowerCase()));
    if (hasMatch) {
      return pattern.hint;
    }
  }
  
  return null;
};
